(一)异常处理 

1. 【强制】`Java` 类库中定义的可以通过预检查方式规避的 `RuntimeException `异常不应该通过 `catch` 的方式来处理，比如：`NullPointerException`，`IndexOutOfBoundsException` 等等。 

   > 说明：无法通过预检查的异常除外，比如，在解析字符串形式的数字时，不得不通过 `catch NumberFormatException` 来实现。 

   正例：`if (obj != null) {...} `

   反例：`try { obj.method(); } catch (NullPointerException e) {…}`

2. 【强制】异常不要用来做流程控制，条件控制。 

   说明：异常设计的初衷是解决程序运行中的各种意外情况，且异常的处理效率比条件判断方式 要低很多。

3. 【强制】`catch` 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。 对于非稳定代码的 `catch` 尽可能进行区分异常类型，再做对应的异常处理。 

   > 说明：对大段代码进行`try-catch`，使程序无法根据不同的异常做出正确的应激反应，也不利 于定位问题，这是一种不负责任的表现。 

   正例：用户注册的场景中，如果用户输入非法字符，或用户名称已存在，或用户输入密码过于 简单，在程序上作出分门别类的判断，并提示给用户。

4. 【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请 将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的 内容。

5. 【强制】有 `try` 块放到了事务代码中，`catch` 异常后，如果需要回滚事务，一定要注意手动回滚事务。

6. 【强制】`finally` 块必须对资源对象、流对象进行关闭，有异常也要做 `try-catch`。 说明：如果 `JDK7` 及以上，可以使用 `try-with-resources` 方式。

7.  【强制】不要在 `finally` 块中使用 `return`。 

   > 说明：`finally` 块中的 `return` 返回后方法结束执行，不会再执行` try `块中的 return 语句。

8. 【推荐】可以使用 `warn` 日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适 从。如非必要，请不要在此场景打出 `error` 级别，避免频繁报警。 

   > 说明：注意日志输出的级别，`error` 级别只记录系统逻辑出错、异常或者重要的错误信息。

9. 【推荐】尽量用英文来描述日志错误信息，如果日志中的错误信息用英文描述不清楚的话使用 中文描述即可，否则容易产生歧义。国际化团队或海外部署的服务器由于字符集问题，【强制】 使用全英文来注释和描述日志错误信息。